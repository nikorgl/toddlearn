{"version":3,"sources":["webpack:///./src/pages/math/arithmetic.vue","webpack:///src/pages/math/arithmetic.vue","webpack:///./src/pages/math/arithmetic.vue?b77c","webpack:///./src/pages/math/arithmetic.vue?e695","webpack:///./src/plugins/playAudio.js","webpack:///./src/pages/math/arithmetic.vue?f3a7","webpack:///./src/plugins/lang.js"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","successAnswers","totalAnswers","level","efficiency","x","sign","y","class","typing","ok","toString","typedResult","_l","n","key","on","$event","type","backspace","result","startTask","staticRenderFns","data","praises","solaces","created","api","computed","methods","checkTask","word","lang","player","getRandomNumber","getRandomSign","getStoredInt","parseInt","localStorage","defValue","setStoredInt","praise","solace","component","playing","play","phrase","oneSpeech","checkLanguage","document","hidden","Audio","substring","setTimeout","msg","SpeechSynthesisUtterance","text","rate","speechSynthesis","speak","ru","en","language","alphabet","split","checkLang","indexOf","toLowerCase","mappedKey","keys","map","q","w","e","r","t","u","i","o","p","a","s","d","f","g","h","j","k","l","z","c","v","b","m","Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],"mappings":"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","file":"static/js/page-math-arithmetic.a050d24d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"card\"},[_c('h1',[_c('div',[_vm._v(\"Ответы \"+_vm._s(_vm.successAnswers)+\"/\"+_vm._s(_vm.totalAnswers))]),_c('div',[_vm._v(\"Уровень \"+_vm._s(_vm.level))]),_c('div',[_vm._v(\"Правильно \"+_vm._s(_vm.efficiency)+\"%\")])]),_c('label',{staticClass:\"task\"},[_vm._v(\" \"+_vm._s(_vm.x)+\" \"+_vm._s(_vm.sign)+\" \"+_vm._s(_vm.y)+\" = \"),_c('span',{staticClass:\"typedResult\",class:(_vm.typing || _vm.ok).toString()},[_vm._v(_vm._s(_vm.typedResult))])]),(this.typing)?_c('div',{staticClass:\"keys\"},[_vm._l(([7, 8, 9, 4, 5, 6, 1, 2, 3, 0]),function(n){return _c('div',{key:n,on:{\"click\":function($event){return _vm.type(n)}}},[_vm._v(\" \"+_vm._s(n)+\" \")])}),_c('div',{staticClass:\"invisible\"}),_c('div',{on:{\"click\":_vm.backspace}},[_vm._v(\"←\")])],2):_c('div',{staticClass:\"result\"},[_vm._v(_vm._s(_vm.result))]),_c('button',{staticClass:\"next\",class:(this.typing ? 'invisible ' : '') + this.ok.toString(),on:{\"click\":_vm.startTask}},[_vm._v(\" Дальше \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <div class=\"card\">\n      <h1>\n        <div>Ответы {{ successAnswers }}/{{ totalAnswers }}</div>\n        <div>Уровень {{ level }}</div>\n        <div>Правильно {{ efficiency }}%</div>\n      </h1>\n      <label class=\"task\">\n        {{ x }} {{ sign }} {{ y }} =\n        <span class=\"typedResult\" :class=\"(typing || ok).toString()\">{{ typedResult }}</span>\n      </label>\n      <div v-if=\"this.typing\" class=\"keys\">\n        <div\n          v-for=\"n in [7, 8, 9, 4, 5, 6, 1, 2, 3, 0]\"\n          :key=\"n\"\n          @click=\"type(n)\"\n        >\n          {{ n }}\n        </div>\n        <div class=\"invisible\"></div>\n        <div @click=\"backspace\">←</div>\n      </div>\n      <div v-else class=\"result\">{{ result }}</div>\n      <button\n        @click=\"startTask\"\n        :class=\"(this.typing ? 'invisible ' : '') + this.ok.toString()\"\n        class=\"next\"\n      >\n        Дальше\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport player from \"../../plugins/playAudio.js\";\nimport api from \"../../api.js\";\nexport default {\n  data: () => ({\n    typing: null,\n    ok: false,\n    x: null,\n    y: null,\n    sign: null,\n    typedResult: null,\n    totalAnswers: null,\n    successAnswers: null,\n    praises: null,\n    solaces: null,\n  }),\n  async created() {\n    this.getStoredInt(\"totalAnswers\", 0);\n    this.getStoredInt(\"successAnswers\", 0);\n    this.startTask();\n    this.praises = await api.getStatic(\"praise/\" + localStorage.username);\n    this.solaces = await api.getStatic(\"solace/solace\");\n  },\n  computed: {\n    level() {\n      return parseInt(\n        5 + (this.totalAnswers * 0.5 + this.successAnswers) * 0.2\n      );\n    },\n    efficiency() {\n      return ((this.successAnswers / this.totalAnswers) * 100).toFixed(2) || 0;\n    },\n    result() {\n      return Math.round(this.x + (this.sign === \"+\" ? 1 : -1) * this.y);\n    },\n  },\n  methods: {\n    type(n) {\n      this.typedResult += n;\n      if (this.result.toString().length === this.typedResult.length)\n        this.checkTask();\n    },\n    backspace() {\n      this.typedResult = this.typedResult.slice(0, -1);\n    },\n    checkTask() {\n      this.typing = false;\n      this.ok = this.result === parseInt(this.typedResult);\n      this.setStoredInt(\"totalAnswers\", ++this.totalAnswers);\n      this.ok && this.setStoredInt(\"successAnswers\", ++this.successAnswers);\n      if (this.ok) player.play({ word: this.praise(), lang: \"ru\" });\n      else player.play({ word: this.solace(), lang: \"ru\" });\n    },\n    startTask() {\n      this.typing = true;\n      this.typedResult = \"\";\n      this.sign = this.getRandomSign();\n      this.x = this.getRandomNumber();\n      this.y = this.getRandomNumber(this.x, this.sign);\n    },\n    getRandomNumber(x, sign) {\n      return parseInt(Math.random() * (sign === \"-\" ? x : this.level));\n    },\n    getRandomSign() {\n      return Math.random() < 0.5 ? \"+\" : \"-\";\n    },\n    getStoredInt(field, defValue) {\n      this[field] =\n        parseInt(\n          localStorage.getItem(localStorage.username + \".math.\" + field)\n        ) || defValue;\n    },\n    setStoredInt(field, value) {\n      localStorage.setItem(localStorage.username + \".math.\" + field, value);\n    },\n    praise() {\n      return this.praises[parseInt(Math.random() * this.praises.length)];\n    },\n    solace() {\n      return this.solaces[parseInt(Math.random() * this.solaces.length)];\n    },\n  },\n};\n</script>\n<style scoped>\nlabel.task {\n  margin-top: 1vh;\n  margin-bottom: 1vh;\n}\n.result {\n  font-size: 10vw;\n}\n.typedResult.false{\n  text-decoration: line-through;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arithmetic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arithmetic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./arithmetic.vue?vue&type=template&id=729fb485&scoped=true&\"\nimport script from \"./arithmetic.vue?vue&type=script&lang=js&\"\nexport * from \"./arithmetic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./arithmetic.vue?vue&type=style&index=0&id=729fb485&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"729fb485\",\n  null\n  \n)\n\nexport default component.exports","import { checkLanguage } from \"./lang.js\";\nexport default {\n  playing: false,\n  play(phrase, oneSpeech) {\n    //if (this.playing) return;\n    const lang = checkLanguage(phrase);\n\n    if (!oneSpeech && document.hidden === false) {\n      const player = new Audio(\n        `${\n          process.env.VUE_APP_API_URL\n        }/api/play?phrase=${phrase}&lang=${lang.substring(0, 2)}`\n      );\n      player.play();\n      this.playing = true;\n    }\n\n    setTimeout(\n      () => {\n        this.playing = false;\n        const msg = new SpeechSynthesisUtterance();\n        msg.text = phrase;\n        msg.lang = lang;\n        msg.rate = lang === \"en-US\" ? 0.6 : 0.8;\n        if (document.hidden === false) speechSynthesis.speak(msg);\n      },\n      oneSpeech ? 0 : 1500\n    );\n  },\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./arithmetic.vue?vue&type=style&index=0&id=729fb485&prod&scoped=true&lang=css&\"","const ru = \"ru\";\nconst en = \"en\";\nconst language = { ru: \"ru-RU\", en: \"en-US\" };\nconst alphabet = {\n  ru: \"абвгдеёжзийклмнопрстуфхцчшщъыьэюя\".split(\"\"),\n  en: \"abcdefghijklmnopqrstuvwxyz\".split(\"\"),\n};\nfunction checkLanguage(key) {\n  return language[checkLang(key)];\n}\nfunction checkLang(key) {\n  return \"абвгдеёжзийклмнопрстуфхцчшщъыьэюя\".indexOf(\n    key[0][0][0][0].toLowerCase()\n  ) > -1\n    ? ru\n    : en;\n}\n\nfunction mappedKey(key, keys) {\n  const map = {\n    \"`\": \"ё\",\n    q: \"й\",\n    w: \"ц\",\n    e: \"у\",\n    r: \"к\",\n    t: \"е\",\n    y: \"н\",\n    u: \"г\",\n    i: \"ш\",\n    o: \"щ\",\n    p: \"з\",\n    \"[\": \"х\",\n    \"]\": \"ъ\",\n    a: \"ф\",\n    s: \"ы\",\n    d: \"в\",\n    f: \"а\",\n    g: \"п\",\n    h: \"р\",\n    j: \"о\",\n    k: \"л\",\n    l: \"д\",\n    \";\": \"ж\",\n    \"'\": \"э\",\n    z: \"я\",\n    x: \"ч\",\n    c: \"с\",\n    v: \"м\",\n    b: \"и\",\n    n: \"т\",\n    m: \"ь\",\n    \",\": \"б\",\n    \".\": \"ю\",\n    \"~\": \"Ё\",\n    Q: \"Й\",\n    W: \"Ц\",\n    E: \"У\",\n    R: \"К\",\n    T: \"Е\",\n    Y: \"Н\",\n    U: \"Г\",\n    I: \"Ш\",\n    O: \"Щ\",\n    P: \"З\",\n    \"{\": \"Х\",\n    \"}\": \"Ъ\",\n    A: \"Ф\",\n    S: \"Ы\",\n    D: \"В\",\n    F: \"А\",\n    G: \"П\",\n    H: \"Р\",\n    J: \"О\",\n    K: \"Л\",\n    L: \"Д\",\n    \":\": \"Ж\",\n    '\"': \"Э\",\n    Z: \"Я\",\n    X: \"Ч\",\n    C: \"С\",\n    V: \"М\",\n    B: \"И\",\n    N: \"Т\",\n    M: \"Ь\",\n    \"<\": \"Б\",\n    \">\": \"Ю\",\n  };\n  return checkLang(keys) === ru && checkLang(key) === en && map[key]\n    ? map[key]\n    : key;\n}\n\nexport { checkLang, checkLanguage, alphabet, mappedKey };\n"],"sourceRoot":""}